---
layout: post
title: 'Solved: Connection Issues with Communicator 2007'
date: '2009-09-22T20:01:00.001+10:00'
author: Richard Banks
tags:
- general
modified_time: '2009-09-22T20:01:58.407+10:00'
thumbnail: http://lh3.ggpht.com/_5dD_rBQSs2o/SrighU8NPAI/AAAAAAAAArQ/rCFX5eFwiIo/s72-c/image_thumb%5B1%5D.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-13321238.post-8209164452240582193
blogger_orig_url: http://www.richard-banks.org/2009/09/solved-connection-issues-with.html
---

<p>At <a href="http://www.readify.net" target="_blank">Readify</a> we use Microsoft Office Communicator 2007 R2 as the internal IM and presence tool, with the added bonus that since we are federated with Microsoft we are also able contact the people we know in Microsoft through the same tool.</p>  <p>Unfortunately I’ve had a recurring problem where communicator wouldn’t connect when I was plugged in at home.&#160; I had just assumed it was an ISP issue and since it was only a minor annoyance I never really bothered to do much about it.</p>  <p>That was until today. Today I finally pulled my finger out and decided to see what the problem was.</p>  <p>Firstly, I turned on event log error logging in Communicator via the Options…-&gt; General settings area.</p>  <p><a href="http://lh4.ggpht.com/_5dD_rBQSs2o/SriggrxxBXI/AAAAAAAAArM/csXjzxF-5rI/s1600-h/image%5B3%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_5dD_rBQSs2o/SrighU8NPAI/AAAAAAAAArQ/rCFX5eFwiIo/image_thumb%5B1%5D.png?imgmax=800" width="393" height="104" /></a> </p>  <p>Next I looked at the event log itself and saw this:</p>  <blockquote>   <p><em>Communicator was unable to locate the login server.&#160; No DNS SRV records exist for domain readify.net, so Communicator was unable to login.       <br />&#160;<strong>Resolution:</strong>        <br /> Please double-check the server name to make sure that it is typed correctly.&#160; If it is correct, the network administrator will either need to use manual configuration to specify the login server's fully-qualified domain name (FQDN), or add DNS SRV records for the readify.net domain in order to allow automatic client configuration.&#160; The DNS SRV records _sipinternaltls._tcp.readify.net, _sipinternal._tcp.readify.net and/or _sip._tls.readify.net may need to be configured if automatic configuration is desired.</em></p> </blockquote>  <p>No SRV records? Really, so how does it connect on other networks? Hmm, I sense something fishy.</p>  <p>So I then ran an nslookup from the command prompt and got this:</p>  <p><a href="http://lh3.ggpht.com/_5dD_rBQSs2o/Srigh1MD9UI/AAAAAAAAArU/gYAyiPMJgNQ/s1600-h/image%5B11%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh6.ggpht.com/_5dD_rBQSs2o/Srigi872fnI/AAAAAAAAArY/k2yhs3xf63g/image_thumb%5B5%5D.png?imgmax=800" width="305" height="214" /></a> </p>  <p></p>  <p>That 10.1.1.1 address is the internal address of my DLink DSL-G604T router that I’ve had for years.</p>  <p>At this point I decided to check the DNS server that my router talks to:</p>  <p><a href="http://lh4.ggpht.com/_5dD_rBQSs2o/SrigjWzOxhI/AAAAAAAAArc/Ho4jADOWHDY/s1600-h/image%5B15%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_5dD_rBQSs2o/SrigkC1MDNI/AAAAAAAAArg/4tWTmhofJ_Y/image_thumb%5B7%5D.png?imgmax=800" width="406" height="308" /></a> </p>  <p>Oh, so that works! OK. So it rules out my ISP as the problem (sorry for assuming it was you IINet).&#160; So then why doesn’t my router pass through the information it needs?</p>  <p>Turns out that <a href="http://en.wikipedia.org/wiki/SRV_record" target="_blank">SRV records</a> are relatively new to the DNS scene and my old faithful router that has served me well for many years now doesn’t have a clue about what they are or what they should do and so simply ignores any request to resolve them.&#160; Even better, none of the firmware updates add any support for them either.</p>  <p>So I decided to switch my laptop’s DNS settings to the ISP’s DNS server directly, and try again.&#160; Whalla! That works!&#160; Cool.</p>  <p>Now the only problem I have is that I can’t use those settings permanently as the ISP won’t respond to DNS requests made from outside it’s own network, meaning it won’t work for me when I’m on the road.</p>  <p><a href="http://lh3.ggpht.com/_5dD_rBQSs2o/SrigkjMww3I/AAAAAAAAArk/i0WJuiTh0zo/s1600-h/image%5B19%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; margin-left: 0px; border-top: 0px; margin-right: 0px; border-right: 0px" title="image" border="0" alt="image" align="left" src="http://lh6.ggpht.com/_5dD_rBQSs2o/SriglSEk_AI/AAAAAAAAAro/Kd6GPjd8tic/image_thumb%5B9%5D.png?imgmax=800" width="163" height="127" /></a></p>  <p>To solve this I wanted to use a DNS available from anywhere – and so I decided to give <a href="http://www.opendns.com/" target="_blank">OpenDNS</a> a try..&#160; Talk about easy.&#160; Just point my IPv4 settings to the OpenDNS name servers and try it again.</p>  <p>It all worked beautifully, and best of all I’m now network independent and able to use the same DNS server settings everywhere I go.&#160; Problem solved.&#160;&#160; All connected.&#160; Happy me.</p>  