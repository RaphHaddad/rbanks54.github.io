---
layout: post
title: DataDude 2008 Impressions
date: '2008-12-17T19:55:00.001+11:00'
author: Richard Banks
tags:
- database
- tools
- microsoft
modified_time: '2008-12-17T19:55:22.954+11:00'
thumbnail: http://lh5.ggpht.com/_5dD_rBQSs2o/SUi-VYWPteI/AAAAAAAAAl0/OD4NbuP3dmk/s72-c/image_thumb.png?imgmax=800
blogger_id: tag:blogger.com,1999:blog-13321238.post-1313105625366582521
blogger_orig_url: http://www.richard-banks.org/2008/12/datadude-2008-impressions.html
---

<p>DataDude, or as it’s more formally known – <a target="_blank" href="http://www.microsoft.com/downloads/details.aspx?FamilyID=bb3ad767-5f69-4db9-b1c9-8f55759846ed&amp;displaylang=en">Visual Studio Team System 2008 Database Edition GDR</a> (*phew*) has <a target="_blank" href="http://blogs.msdn.com/gertd/archive/2008/11/25/visual-studio-team-system-2008-database-edition-gdr-rtm.aspx">been released for a few weeks</a> now and I spent part of today showing a number of people how it all fits together.</p> <p>By the way, if you already have the 2005 edition installed, go get this version right now.&nbsp; The improvements it makes over the 2005 version are massive – this product is now a useable and worthwhile addition to your toolbox, plus it supports SQL2008 databases.</p> <h4>Projects</h4> <p>The project system is now quite different.&nbsp; The biggest (and I think the most needed) change was the separation of the build process from the deployment process.&nbsp; You can now build the project to make sure that your SQL is correct without creating a deployment script.&nbsp; When you build you get a DBSCHEMA file with you database definition in it.&nbsp; Deployment is also improved with the option to just create the deploy script to target a database or you can create the script and run it against your target database in one operation:</p> <p><a href="http://lh4.ggpht.com/_5dD_rBQSs2o/SUi-UxUgqKI/AAAAAAAAAlw/fELCCueH89c/s1600-h/image%5B2%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh5.ggpht.com/_5dD_rBQSs2o/SUi-VYWPteI/AAAAAAAAAl0/OD4NbuP3dmk/image_thumb.png?imgmax=800" width="528" height="113"></a> </p> <p>The project file itself is now structured in a simpler manner with specific configuration files for various aspects of the configuration and deployment:</p> <p><a href="http://lh6.ggpht.com/_5dD_rBQSs2o/SUi-WGi5-oI/AAAAAAAAAl4/0dU_XsR2Kdk/s1600-h/image%5B5%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_5dD_rBQSs2o/SUi-WpVlgPI/AAAAAAAAAl8/WZIcLsEpLts/image_thumb%5B1%5D.png?imgmax=800" width="234" height="118"></a> </p> <p>Oh – I should also mention this one : no more design time database!&nbsp; Yay!!&nbsp; DataDude now uses the SqlServerCE data engine for checking syntax and no longer creates those temporary databases with the GUIDs in the name.&nbsp; Of course it does mean you need SqlServerCe (3.5 SP1) installed otherwise you might run into errors opening database projects with “Could not load assembly…” errors.</p> <h4>Code Analysis</h4> <p>Another very cool addition to DataDude is the inclusion of FxCop style code analysis rules.&nbsp; While you can’t ensure that your SQL code is brilliant, you can at least be sure it doesn’t completely suck and break common rules.&nbsp; As you can see it includes checks for things like the use of @@IDENTITY and SELECT * … etc. </p> <p><a href="http://lh6.ggpht.com/_5dD_rBQSs2o/SUi-XN8N6gI/AAAAAAAAAmA/ocYATyce9fc/s1600-h/image%5B8%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_5dD_rBQSs2o/SUi-Xrx0rLI/AAAAAAAAAmE/ucFvwPyC0TY/image_thumb%5B2%5D.png?imgmax=800" width="512" height="192"></a> </p> <p></p> <p></p> <p>The Schema View window</p> <p>One of the other painful things about the 2005 edition of data dude was the schema management.&nbsp; With 2005 by far the easiest way to edit your schema was to make changes via management studio and then do a schema comparison to bring the changes you wanted into your project.&nbsp; While you can still do this it’s now pretty easy to manage the schema inside visual studio since there is a Schema View window with all the various things you might expect.</p> <p><a href="http://lh5.ggpht.com/_5dD_rBQSs2o/SUi-YP0MExI/AAAAAAAAAmI/GAYDzsKPuxk/s1600-h/image%5B11%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_5dD_rBQSs2o/SUi-YctWX4I/AAAAAAAAAmM/kz6YCF5AUVU/image_thumb%5B3%5D.png?imgmax=800" width="195" height="157"></a> </p> <p>You still edit the table definitions using SQL (no designers) but it’s pretty simple to manage this stuff now.</p> <p>What’s also nice is the improved things you can do in the schema view window as seen here:</p> <p><a href="http://lh6.ggpht.com/_5dD_rBQSs2o/SUi-Y1xWMRI/AAAAAAAAAmQ/ucOg9Dbz7Ys/s1600-h/image%5B14%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh3.ggpht.com/_5dD_rBQSs2o/SUi-Zf-5BII/AAAAAAAAAmU/bCoX_Oh49Pk/image_thumb%5B4%5D.png?imgmax=800" width="416" height="252"></a> </p> <p>Apart from much improved database refactoring support, there is now also the ability to view the dependencies of an object – both the things depending on it, and the things it depends on.&nbsp; This really helps in understanding what you’ll be breaking when you make those crazy schema changes your thinking of :-).</p> <h4>Unit Testing</h4> <p>Woo-hoo!! Unit testing for stored procedures is very, very nice now.&nbsp; To get started with a unit test hit the Create Unit Tests… button</p> <p><a href="http://lh6.ggpht.com/_5dD_rBQSs2o/SUi-aT3kkxI/AAAAAAAAAmY/4mq1vTVAxWg/s1600-h/image%5B17%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_5dD_rBQSs2o/SUi-awLc6JI/AAAAAAAAAmc/pPJb1_Vp9XM/image_thumb%5B5%5D.png?imgmax=800" width="338" height="215"></a> </p> <p>Run through the dialogs and you’ll end up with a generated test that looks something like this:</p> <p><a href="http://lh3.ggpht.com/_5dD_rBQSs2o/SUi-bXo5E7I/AAAAAAAAAmg/2ct2BXWYOEQ/s1600-h/image%5B20%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_5dD_rBQSs2o/SUi-cDyLU6I/AAAAAAAAAmk/zF1XAVK-iFA/image_thumb%5B6%5D.png?imgmax=800" width="611" height="464"></a> </p> <p>See all that SQL code calling the proc?&nbsp; What’s it doing inside a *.cs file?&nbsp; Well, DataDude has added a designer experience to the database unit tests.&nbsp; You can now write some SQL and add your test conditions from a list.&nbsp; Test conditions are adjusted through the properties pages for each condition.</p> <p><a href="http://lh5.ggpht.com/_5dD_rBQSs2o/SUi-c2yl-xI/AAAAAAAAAmo/_KbBNwEjBq0/s1600-h/image%5B23%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_5dD_rBQSs2o/SUi-dUuyrRI/AAAAAAAAAms/H-rnkWPbxnE/image_thumb%5B7%5D.png?imgmax=800" width="307" height="153"></a> </p> <p>You can also do pre &amp; post test scripts as well which can be very handy.</p> <p><a href="http://lh6.ggpht.com/_5dD_rBQSs2o/SUi-d1oi9sI/AAAAAAAAAmw/ARR4IrbtBaA/s1600-h/image%5B26%5D.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://lh4.ggpht.com/_5dD_rBQSs2o/SUi-eZfCaqI/AAAAAAAAAm0/-i7zH28y3u8/image_thumb%5B8%5D.png?imgmax=800" width="395" height="97"></a> </p> <p>Behind the scenes you have normal code so if you really wanted to you can always go and add further code to assert and test conditions to suit whatever the specific needs are that you have</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p>&nbsp;</p> <p>There’s a whole slew of other changes in the new version of DataDude and all of them are valuable and probably deserver a blog post in their own right, but these three areas of improvement are to me the changes that make the most difference.&nbsp; If you want to know what the other changes are, go and check <a target="_blank" href="http://blogs.msdn.com/gertd/archive/2008/11/25/visual-studio-team-system-2008-database-edition-gdr-rtm.aspx">Gert’s blog</a> where he gives a run through of each of them or go and grab the documentation and have a read of it for yourself – even better, go download it and have a play with it yourself and discover the improvements.</p>  