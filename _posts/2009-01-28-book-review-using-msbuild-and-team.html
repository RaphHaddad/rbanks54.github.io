---
layout: post
title: 'Book Review: Using MSBuild and Team Foundation Build'
date: '2009-01-28T18:36:00.001+11:00'
author: Richard Banks
tags:
- TFS
- books
modified_time: '2009-01-28T18:36:58.735+11:00'
blogger_id: tag:blogger.com,1999:blog-13321238.post-6865824642096731931
blogger_orig_url: http://www.richard-banks.org/2009/01/book-review-using-msbuild-and-team.html
---

<p>I’ve just finished having a read through of “Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build” from <a href="http://mspress.com.au/" target="_blank">MSPress</a>.&nbsp; I was kind of wondering if there’d be any book left by the time I finished reading the title!</p> <p>Thankfully there was.&nbsp; The book is broken into two main sections – the first dealing with MSBuild and then the second on how MSBuild works in a TFS environment and some of the extra things you can do in TeamBuild.</p> <p>As far as content there’s not a lot of preamble and the book jumps straight into MSBuild features which makes the introductory section a little hard to get your head around if you’re not someone who has dealt with MSBuild before.&nbsp; I think a short initial section explaining the way MSBuild processes scripts and how it works at a high level would have been a useful precursor to the rest of the book.&nbsp; But regardless, you can still get up to speed on it quickly, as long as you make sure you take the time to grok what’s explained in the quick start chapter.</p> <p>After that you get into the meatier stuff.&nbsp; One of the things I was hoping not to see was an exposé of all the various out of the box tasks that you get with MSBuild as it would have just make the book a reference tome and pretty much worthless as far as I’m concerned.&nbsp; I’m glad to say this doesn’t happen and instead the book focuses more on the practicalities of build scripts and making sure you understand how to do useful stuff.</p> <p>It also spends a fair amount of time explaining how the MSBuild scripts work.&nbsp; MSBuild is pretty damn ugly as far as its syntax is concerned since it’s all XML and requires the liberal use of %’s , @’s and –&gt;’s to signify behaviour. Its very unintuitive and turns off a lot of people right from the start so having a book that explains it (and a lot better than the MSDN docs do) really helps.</p> <p>The book runs through all of the functionality of MSBuild, including things like developing custom MSBuild tasks and loggers, and in particular has some very useful information on adding batching and incremental builds to your build scripts.&nbsp; This is one of the least understood areas of MSBuild (probably because the syntax sucks) and to see it well laid out and explained in detail was quite good.</p> <p>As I mentioned the book tries to be practical with its content and contains cookbook sections to help you with common tasks such as </p> <ul> <li>setting assembly versions,  <li>starting and stopping services,  <li>transferring files via ftp,  <li>compressing JavaScript, and  <li>encrypting web.config files</li></ul> <p>It also has useful examples on integrating NUnit &amp; FxCop into your build scripts.</p> <p>&nbsp;</p> <p>The book then moves on to Team Build, with an obvious focus on TFS2008, though it does provide tips on what you could do if you are still using TFS2005.&nbsp; For example TFS2008 introduced retention policies on builds.&nbsp; Previously you either had to delete builds manually to stop the disk filling up or automate the cleanup it with an external tool – the book even gives <a href="http://notgartner.wordpress.com/" target="_blank">Mitch</a> a plug for the <a href="http://notgartner.wordpress.com/2006/05/22/release-build-clean-up-service-for-team-foundation-server/" target="_blank">TFS Build Clean up utility</a> he wrote).</p> <p>As you’d expect the book goes through the details of how Team Build works, explains the different build types and how to customise the process as well as providing another cookbook section so you can get an idea of how to do things such as:</p> <ul> <li>generating documentation using sandcastle,  <li>load balancing builds across multiple build servers, and  <li>adding extra details to the TeamBuild log in Visual Studio</li></ul> <p>Probably the only thing I was a little disappointed in was the lack of a section on automating deployments after a build completes.&nbsp; Tools like <a href="http://www.codeplex.com/tfsdeployer" target="_blank">TFSDeployer</a> can really help streamline the deployment process from TFS and it would have been great to see a few pages devoted to this subject.&nbsp; I guess you can’t have everything!</p> <p>&nbsp;</p> <p>Summary: A useful reference and guide for both MSBuild and TeamBuild.&nbsp; It’ll save you hours of digging through and trying to understand the technically correct and practically useless MSDN docs to decipher how to do what you want to do.&nbsp; The cookbook sections in particular and the practical focus throughout are great and I think it would make a good bookshelf addition for anyone who needs to manage build scripts in a TeamBuild or MSBuild based environment.</p> <p>Score: 8/10</p> <p>&nbsp;</p> <p>Full disclosure: I obtained this book for free with the intent of doing a review.&nbsp; I tried not to let the fact that it was a freebie affect my review of the book.</p>  